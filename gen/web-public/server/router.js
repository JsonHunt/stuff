// Generated by CoffeeScript 1.9.0
(function() {
  var express, router, service;

  express = require('express');

  service = require('./service');

  router = express.Router();

  router.use('/login', function(req, res, next) {
    return service.login(req.body.username, req.body.password, function(err, user) {
      return res.json({
        error: err,
        user: user
      });
    });
  });

  router.use('/signup', function(req, res, next) {
    var user;
    user = {
      username: req.body.username,
      password: req.body.password,
      email: req.body.email
    };
    return service.signup(user, function(err, user) {
      return res.json({
        error: err,
        user: user
      });
    });
  });

  module.exports = router;

}).call(this);
