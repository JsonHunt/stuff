// Generated by CoffeeScript 1.9.1
(function() {
  var IndexController, app;

  this.app = app = angular.module('PublicApp', ['ngRoute', 'oc.modal', 'ui.bootstrap']);

  app.config([
    '$routeProvider', function($routeProvider) {
      return $routeProvider.when('/', {
        controller: 'HomeController',
        templateUrl: 'home/home.html'
      }).when('/contact', {
        controller: 'contactController',
        templateUrl: '/contact/contact.html'
      }).when('/change-password', {
        controller: 'ChangePasswordController',
        templateUrl: '/change-password/change-password.html'
      }).otherwise({
        redirectTo: '/'
      });
    }
  ]);

  IndexController = function($scope, $location, $ocModal, $http, $modal) {
    $scope.getLogin = function() {
      return $http.get("/rest/getLogin").success(function(data, status, headers, config) {
        $scope.user = data.user;
        return $scope.checked = true;
      });
    };
    $scope.getLogin();
    $scope.goto = function(path) {
      $scope.path = path;
      return $location.path(path);
    };
    $scope.login = function() {
      var modalInstance;
      modalInstance = $modal.open({
        templateUrl: 'login/login.html',
        controller: LoginController
      });
      return modalInstance.result.then(function(result) {
        return $scope.user = result;
      });
    };
    $scope.signup = function() {
      return $ocModal.open({
        id: 'modal1',
        url: 'signup/signup.html',
        controller: 'SignupController'
      });
    };
    $scope.pay = function(description, amount) {
      return $ocModal.open({
        id: 'modalpay',
        url: 'payment/payment.html',
        controller: 'PaymentController'
      });
    };
    return $scope.logout = function() {
      return $http.post("/rest/logout").success(function(data, status, headers, config) {
        return delete $scope.user;
      });
    };
  };

  IndexController.$inject = ['$scope', '$location', '$ocModal', '$http', '$modal'];

  app.controller('IndexController', IndexController);

  app.controller('HomeController', HomeController);

  app.controller('contactController', contactController);

  app.controller('LoginController', LoginController);

  app.controller('SignupController', SignupController);

  app.controller('PasswordResetController', PasswordResetController);

  app.controller('ChangePasswordController', ChangePasswordController);

}).call(this);
