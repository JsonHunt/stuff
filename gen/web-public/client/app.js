// Generated by CoffeeScript 1.9.2
(function() {
  var app, mod;

  app = angular.module('PublicApp', ['ngRoute', 'oc.modal', 'ngMap', 'google.places', 'angularFileUpload', 'monospaced.elastic', 'ngAnimate', 'ngDialog', '720kb.tooltips']);

  mod = require('web-app-modules/gen/client');

  app.controller('IndexController', require('./index-controller'));

  app.controller('LocationConfigController', require('./location-config/location-config'));

  app.directive("xtable", require('./widgets/table/table'));

  app.directive("upimage", require('./widgets/up-image/up-image'));

  app.config([
    '$httpProvider', '$routeProvider', function($httpProvider, $routeProvider) {
      var userPromise;
      userPromise = {
        xxx: function($q, $http, $rootScope) {
          var i;
          if ($rootScope.user) {
            return;
          }
          i = $q.defer();
          $http.get('module/auth/getLogin').success(function(data) {
            $rootScope.user = data.user;
            return i.resolve();
          }).error(function() {
            delete $rootScope.user;
            return i.reject();
          });
          return i.promise;
        }
      };
      return $routeProvider.when('/', {
        controller: require('./home/home'),
        templateUrl: 'home/home.html'
      }).when('/home', {
        controller: require('./home/home'),
        templateUrl: 'home/home.html'
      }).when('/contact', {
        controller: require('./contact/contact'),
        templateUrl: '/contact/contact.html'
      }).when('/features', {
        controller: require('./features/features'),
        templateUrl: '/features/features.html'
      }).when('/build-menu', {
        controller: require('./build-menu/build-menu'),
        templateUrl: '/build-menu/build-menu.html'
      }).when('/build-zones', {
        controller: require('./zone-builder-screen/zone-builder-screen'),
        templateUrl: '/zone-builder-screen/zone-builder-screen.html'
      }).otherwise({
        redirectTo: '/'
      });
    }
  ]);

  module.exports = app;

}).call(this);
