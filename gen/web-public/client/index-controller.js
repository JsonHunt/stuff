// Generated by CoffeeScript 1.9.2
(function() {
  var ctr, mod;

  mod = require('web-app-modules/gen/client');

  ctr = module.exports = function($scope, $location, $ocModal, $http, $rootScope, $sce) {

    /*
    	## sourceURL=hello.js
     */
    var menu;
    $scope.back = function() {
      return window.history.back();
    };
    $scope.log = function(x) {
      if (_.isObject(x)) {
        return console.log(JSON.stringify(x, null, 2));
      } else {
        return console.log(x.valueOf());
      }
    };
    $scope.getLogin = function() {
      return $http.get("/module/auth/getLogin").success(function(data, status, headers, config) {
        $scope.user = data.user;
        return $scope.checked = true;
      });
    };
    $scope.goto = function(path) {
      $scope.path = path;
      console.log("Going to " + path);
      return $location.path(path);
    };
    $scope.gotoPage = function(p) {
      return $scope.page = p;
    };
    $scope.isPage = function(p) {
      return $scope.page === p;
    };
    $scope.login = function() {};
    $scope.logout = function() {
      return $http.post("/module/auth/logout").success(function(data, status, headers, config) {
        delete $rootScope.user;
        return $location.path('/');
      });
    };
    menu = require('./menu');
    $scope.categories = menu.categories;
    $scope.options = menu.options;
    _.forOwn(menu, function(array, key) {
      var map;
      if (!_.isArray(array)) {
        return;
      }
      map = {};
      _.forEach(array, function(item) {
        return map[item.id] = item;
      });
      return menu[key] = map;
    });
    return $scope.menu = menu;
  };

  ctr.$inject = ['$scope', '$location', '$ocModal', '$http', '$rootScope', '$sce'];

}).call(this);
