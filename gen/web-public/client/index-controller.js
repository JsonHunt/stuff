// Generated by CoffeeScript 1.9.1
(function() {
  var ctr, mod;

  mod = require('web-app-modules/gen/client');

  ctr = module.exports = function($scope, $location, $ocModal, $http, $modal, $rootScope) {

    /*
    	## sourceURL=hello.js
     */
    $scope.getLogin = function() {
      return $http.get("/module/auth/getLogin").success(function(data, status, headers, config) {
        $scope.user = data.user;
        return $scope.checked = true;
      });
    };
    $scope.goto = function(path) {
      $scope.path = path;
      return $location.path(path);
    };
    $scope.login = function() {
      var modalInstance;
      modalInstance = $modal.open({
        templateUrl: 'module/auth/login.html',
        controller: mod.auth.login
      });
      return modalInstance.result.then(function(result) {
        return $rootScope.user = result;
      }, function() {
        return $location.path('/');
      });
    };
    $scope.signup = function() {
      var modal;
      return modal = $modal.open({
        templateUrl: 'module/auth/signup.html',
        controller: mod.auth.signup
      });
    };
    $scope.pay = function(description, amount) {
      return $modal.open({
        templateUrl: 'module/payment/load-balance.html',
        controller: mod.payment.loadBalance
      });
    };
    return $scope.logout = function() {
      return $http.post("/module/auth/logout").success(function(data, status, headers, config) {
        delete $rootScope.user;
        return $location.path('/');
      });
    };
  };

  ctr.$inject = ['$scope', '$location', '$ocModal', '$http', '$modal'];

}).call(this);
